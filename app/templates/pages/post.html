{% extends "base.html" %}
<!--
=============================================================================
SINGLE POST TEMPLATE
=============================================================================
Purpose: Display a single blog post with full content.

Shows:
- Post title
- Publication date and reading time
- Full markdown content (rendered as HTML)
- Admin edit link (if logged in)
=============================================================================
-->

{% block title %}{{ post.title }} — {{ site_name }}{% endblock %}

{% block content %}
<article class="container">
    <!-- Post Header -->
    <header class="post-header">
        <h1>{{ post.title }}</h1>
        <p class="post-meta">
            {{ post.created_at.strftime('%B %d, %Y') }}
            · {{ post.content | reading_time }} min read
            {% if not post.published %}
            <span class="post-status post-status--draft">Draft</span>
            {% endif %}
        </p>
        {% if user %}
        <p class="mt-4">
            <a href="/admin/posts/{{ post.id }}/edit" class="btn btn-secondary">Edit Post</a>
        </p>
        {% endif %}
    </header>

    <!-- Post Content (Markdown rendered to HTML) -->
    <div class="post-content">
        {{ post.content | markdown }}
    </div>

    <!-- Post Footer -->
    <footer class="mt-8 text-center">
        <p class="text-muted">
            {% if post.updated_at != post.created_at %}
            Last updated: {{ post.updated_at.strftime('%B %d, %Y') }}
            {% endif %}
        </p>
        <p class="mt-4">
            <a href="/blog">← Back to all posts</a>
        </p>
    </footer>
</article>
{% endblock %}
